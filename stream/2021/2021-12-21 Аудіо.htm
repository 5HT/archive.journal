<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <meta name="author" content="Maxim Sokhatsky" />
    <title>2021-12-10</title>
    <link rel="stylesheet" href="https://n2o.dev/blank.css" />
    <link rel="stylesheet" href="../../journal.css" />
</head>
<body>
<nav>
    <a href='../../index.html'>5HT</a>
    <a href='../index.html'>TOP</a>
    <a href='#'>2021-12-23</a>
</nav>
<main>
    <section>
        <h3>Музыка</h3>

        <h3>PCM и DSD</h3>

        <p><img src="img/image_2021-12-23_07-26-31.jpg" width=400>
           <img src="img/image_2021-12-23_07-26-51.jpg" width=400></p>

        <p>В действительности такие понятия как объм и чистота сцены зависят от импульсной характеристики
           (выходной сигнал динамической системы как реакция на входной сигнал в виде дельта-функции Дирака),
            которую можно проверить задав на входе -6db на протяжении 3 микросекунд и посмотрев на график.</P>

        <figure><img src="img/ImpulseResponse.png"></figure>

        <h3>Аудио интерфейс</h3>


<figure><code>                    ADC                                    DAC
            +-----------------+                    +-----------------+
+-----+     | +-----+ +-----+ |     +--------+     | +-----+ +-----+ |     +---------+
| Mic |-[M]-|-| DSD |-| PCM |-|-[I]-| EDITOR |-[T]-|-| PCM |-| DSD |-|-[S]-| Speaker |
+-----+     | +-----+ +-----+ |     +--------+     | +-----+ +-----+ |     +---------+
            +-----------------+                    +-----------------+
</code></figure>

        <h4>PCM DAC</h4>




        <h4>Резисторные лестницы</h4>

        <P>Первые DSD DAC были построены на основе резистивной матрицы постоянного
           импеданса (резисторной лестницы R-2R). Такие DAC имеют проблемы с
           нелинейностью из-за допусков резисторов: нелинейность вызывает искажения.
           Кроме того, при ультразвуковом воздействии могут возникать звуковые
           наложения, ухудшающие качество звука.</p>

        <h4>1-битные ΣΔ-модуляторы</h4>

        <p>В отличие от импульсно-кодовой модуляции сигма-дельта модуляция работает на
           частоте дискретизации в 4 и более раз выше стандартного значения, соответствующего
           требованиям теоремы Найквиста. В них используются грубые квантователи с
           числом разрядовq от 1 до 6 с частотно-зависимой отрицательной обратной связью.</P>

<figure><code>
             1/s    | E(s)
      +---+ +---+ +-+-+   +--------+
X(s) -| Σ |-| I |-| Q |-+-| FILTER |- Y(s)
      +-+-+ +---+ +---+ | +--------+
        |               |
        +---------------+
</code></figure>

        <p>Количество интеграторов и соотвественно количество обратных связей определяют порядок
           ΣΔ-модулятора. </p>

<figure><code>                             | E
   +---+ +---+ +---+ +---+ +-+-+   +--------+
X -| Σ |-| I |-| Σ |-| I |-| Q |-+-| FILTER |- Y
   +-+-+ +---+ +-+-+ +---+ +---+ | +--------+
     |           |               |
     +-----------+---------------+
</code></figure>

        <p>Ниже приведен пример 1-битного модулятора 5-го порядка, который использовался в стандарте SACD.</p>



<figure><code>
   +---+ +---+ +---+   +---+ +---+   +---+ +---+   +---+ +---+   +---+ +---+
X -| Σ |-| Σ |-| I |-+-| Σ |-| I |-+-| Σ |-| I |-+-| Σ |-| I |-+-| Σ |-| I |-+
   +-+-+ +-+-+ +---+ | +-+-+ +---+ | +-+-+ +---+ | +-+-+ +---+ | +-+-+ +---+ |
     |     |         |   |         |   |         |   |         |   |         |
     |     +---------+   +---------+   +---------+   +---------+   +---------+
     |               |             |             |             |             |
     |               +-------------+-------------+-------------+-------------+
     |                                           |    +---+
     |                                           +----| Q |----+----- Y
     |                                                +---+    |
     +---------------------------------------------------------+
</code></figure>

        <p>Повышение порядка интегратора существенно улучшает SNR в области низких частот,
           так например для модулятор 7-го порядка уровнем шума в слышимом диапазоне не превышает -140дБ.
           В практике уже есть разработки модуляторов до 12 порядка.</p>

        <figure><img src="img/SNR.PNG"></figure>

        <h4>Мультибитные модуляторы</h4>

        <p>Мультибитный DSD вцелом похож на мультибитный PCM но отличается от него рядом
           признаков. PCM обычно содержит 24 бита для всего сэмпла, в то время как DSD
           хранит 5-6 битную разницу между сосденими сэмплами. В 1-битном модуляторе
           эта разница всегда бинарна (0 или 1), в то время как в мультибитном модуляторе
           эта разница равна разрядности модулятора. Мультибитные модуляторы всегда
           лучше однобитных по своим характеристикам поэтому являются естественной эволюцией однобитных.
           В начале 2000-х годов 1-битное преобразование привлекало простотой (теоретически идеальной линейностью).
           Теперь мы можем разрешить себе больше производительности и мультибитные DSD DAC,
           чтобы лучше разобрать детали. Однако поскольку мультибитные DSD DAC напоминают
           по своей архитектуре мультибитные PCM DAC, нам придется расплатиться за мультибитность дополнительными фильтрами.</p>

<figure><code>              ADC         DSD/PCM        DAC
+-----+     +-----+     +--------+     +-----+     +---------+
| Mic |-[M]-| DSD |-[I]-| EDITOR |-[T]-| DSD |-[S]-| Speaker |
+-----+     +-----+     +--------+     +-----+     +---------+
</code></figure>

<figure><code>
                 DAC
+--------+     +-----+     +---------+
| PLAYER |-[T]-| DSD |-[S]-| Speaker |
+--------+     +-----+     +---------+

</code></figure>

        <h3>Устранение шумов</h3>

        <h4>Oversampling</h4>

        <h4>Dithering</h4>

        <h4>Noise shaping</h4>

        <h4>Decimation</h4>

        <h4>Dynamic Element Matching</h4>

    </section>
</main>
<footer>Namdak Tonpa <span class="heart">&nbsp;❤&nbsp;</span> 2009—2021</footer>
</body>
</html>
